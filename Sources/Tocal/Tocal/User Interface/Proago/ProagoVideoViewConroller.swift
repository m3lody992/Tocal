//
//  PromoteVideoViewConroller.swift
//  TikTokTips
//
//  Created by Eric Cartmenez on 07/07/2020.
//  Copyright © 2020 Eric Cartmenez All rights reserved.
//

import UIKit
import WebKit
//import UITools
//import DeviceTools
//import InfoServices

class ODlpQRsjAHiyIjIpWVTB4EwYWGZngTaS: kBRLNmf7mGhhxUj2Oou351YWEX8tW5mR {

    private var proagoButton: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var videoImageView: UIImageView!
    private var kardiaPickerView: UIPickerView!
    private var explanationLabel: UILabel!

    var webView: WKWebView?
    var ast = PPYYkBfJ6RobosDg0q4UxZd0QsqA6qBv()
    
    private var pickerInMotion: Bool = false
        
    private func pickerViewMotionStart() {
        if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.overridePicker {
            UIView.animate(withDuration: 0.2) {
                self.proagoButton.alpha = 0.5
            }
            proagoButton.isEnabled = false
        }
    }
    
    private func pickerViewMotionEnded() {
        if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.overridePicker {
            UIView.animate(withDuration: 0.2) {
                self.proagoButton.alpha = 1
            }
            proagoButton.isEnabled = true
            pickerInMotion = false
        }
    }

    private func nIPxHNX1Y4H9Brq4PZ0XAP4uGXo4oMP8() {
        ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(
            // Order X stars?
            withTitle: [60, 49, 20, 18, 59, 90].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG + "\(viewModel.yGX08IRLyZxpidkIsyMXK46E73PiOqMZ)" + [83, 161, 233, 210, 166, 194, 234, 119, 9].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG,
            // Do you want to order X likes for Y stars ?
            andMessage: [55, 44, 80, 14, 38, 15, 69, 32, 87, 4, 51, 18, 16, 26, 121, 30, 40, 63, 14, 49, 108].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG + "\(viewModel.yGX08IRLyZxpidkIsyMXK46E73PiOqMZ)" + [83, 161, 233, 210, 166, 194, 234, 93, 80, 5, 53, 18].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG + "\(viewModel.EYAj8W635NXKi9m1qFFLxssqzssHJS0S)" + [83, 161, 221, 231, 166, 194, 234, 119, 9].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG,
            buttons: [.ctAycuUpcqLUeLm6lTTZ7BqWroSqULmt, .grb6TiJukBTRVhDCwf7NauTcStn1037q], onOk:  { [weak self] in
                if maqLKRb6dHH50KVEL9xdQ75ElHiPaZNU.nE9BIkaLKzw5jFajLdwMmfrXwJx1Yo7G >= self?.viewModel.EYAj8W635NXKi9m1qFFLxssqzssHJS0S ?? 1000 {
                    self?.zaIiMqyp8Vr9YCwK9cVAF5Pciq3YsGDL()
                    self?.viewModel.K7ckTPnHN8miX0SlZtTQDwnap4DYNmh7()
                } else {
                    self?.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(
                        // Not enough stars
                        withTitle: [61, 44, 4, 87, 44, 20, 10, 34, 81, 2, 103, 208, 201, 229, 182, 201, 213].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG,
                        // Would you like to get more ⭐️?
                        andMessage: [36, 44, 5, 27, 45, 90, 28, 56, 67, 74, 43, 91, 15, 16, 121, 5, 53, 123, 12, 38, 56, 96, 9, 63, 65, 61, 14, 176, 232, 179, 189, 203, 204, 79].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG,
                        buttons: [.fmSMx6JT4HOWo9mmomXqGjpuIPFb1IDj, .grb6TiJukBTRVhDCwf7NauTcStn1037q], onOk:  { [weak self] in
                            self?.tabBarController?.selectedIndex = 2
                        })
                }
            })
    }

    var viewModel = GYqVeVs5JCmSpHTVOkyd3aLJrmxTyUpE()
    
    func fb8K0d3h8meoTm0TXh3Q0J7BEomwuTPN() {
        let stackContainer = UIStackView()
        stackContainer.spacing = 8
        stackContainer.axis = .vertical
        stackContainer.contentMode = .scaleToFill
        stackContainer.alignment = .center
        stackContainer.translatesAutoresizingMaskIntoConstraints = false
        view.addSubview(stackContainer)

        videoImageView = UIImageView()
        videoImageView.contentMode = .scaleAspectFit
        stackContainer.addArrangedSubview(videoImageView)
        videoImageView.layer.cornerRadius = 6
        videoImageView.layer.masksToBounds = true
        
        explanationLabel = UILabel()
        explanationLabel.font = .systemFont(ofSize: 14)
        explanationLabel.textAlignment = .center
        explanationLabel.numberOfLines = 0
        stackContainer.addArrangedSubview(explanationLabel)
        
        kardiaPickerView = UIPickerView()
        stackContainer.addArrangedSubview(kardiaPickerView)
        
        proagoButton = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        proagoButton.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            self?.nIPxHNX1Y4H9Brq4PZ0XAP4uGXo4oMP8()
        }
        stackContainer.addArrangedSubview(proagoButton)
        
        NSLayoutConstraint.activate([
            stackContainer.leadingAnchor.constraint(equalTo: view.safeAreaLayoutGuide.leadingAnchor, constant: 16),
            stackContainer.trailingAnchor.constraint(equalTo: view.safeAreaLayoutGuide.trailingAnchor, constant: -16),
            stackContainer.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor),
            stackContainer.bottomAnchor.constraint(equalTo: view.safeAreaLayoutGuide.bottomAnchor, constant: -8),
            videoImageView.heightAnchor.constraint(equalTo: videoImageView.widthAnchor, multiplier: 1),
            explanationLabel.heightAnchor.constraint(equalToConstant: 40),
            kardiaPickerView.heightAnchor.constraint(greaterThanOrEqualToConstant: 120),
            proagoButton.heightAnchor.constraint(equalToConstant: 40),
            proagoButton.widthAnchor.constraint(equalTo: view.safeAreaLayoutGuide.widthAnchor, multiplier: 0.75)
        ])
    }
    
    override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)
        pickerViewMotionEnded()
    }

    override func viewDidLoad() {
        super.viewDidLoad()
        fb8K0d3h8meoTm0TXh3Q0J7BEomwuTPN()
        view.backgroundColor = .systemBackground

        videoImageView.layer.cornerRadius = 5

        DnSVEKu9S5jeIZzQQyzqZ2R3iHMvZzBq()

        proagoButton.setTitle([35, 49, 31, 26, 38, 14, 0].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)

        kardiaPickerView.delegate = self
        kardiaPickerView.dataSource = self

        // Promote Video
        title = [35, 49, 31, 26, 38, 14, 0, 119, 96, 3, 35, 87, 11].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG
        
        ast.nThjORZ7mYD5nxmddBBVsmVwEITzJZAA { [weak self] in
            self?.pickerViewMotionEnded()
        }
        
        kardiaPickerView.selectRow(2, inComponent: 0, animated: false)

        if let userVideo = viewModel.xKMXWVLme3tU3cpSU3A4hojHZBNcgMgJ,
        let url = userVideo.adThumbUrl {
            videoImageView.kf.indicatorType = .activity
            videoImageView.kf.setImage(with: url, completionHandler:  { [weak self] result in
                if case .failure = result {
                    self?.videoImageView.kf.setImage(with: CbSByOZWj5lKojSe9DofebyNclyVTtj8.HuxBkvQ5E3APJGVCWJDMxkCbu2gEtRUf.f6yi9rSAGayXi2dJwXyQsc0mWvnh0bOg.Ax6SByJCQg239ENx2jtx2VFO3Ll9ATVi)
                } else if case .success = result {
                    self?.viewModel.isztE9ONXBUNIBj5cnOJLnPJjLofqtzJ = self?.videoImageView.image
                }
            })
        }

    }

    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        // "You currently have %f likes on this video. How many more would you like to get?"
                explanationLabel.text = String(format: [42, 44, 5, 87, 42, 15, 23, 37, 83, 4, 51, 94, 29, 85, 49, 16, 44, 62, 75, 102, 40, 96, 8, 57, 88, 61, 93, 114, 42, 77, 114, 7, 43, 25, 4, 105, 12, 12, 51, 83, 5, 105, 18, 44, 26, 46, 81, 55, 58, 5, 58, 108, 45, 11, 34, 86, 120, 89, 61, 48, 79, 54, 83, 58, 31, 2, 105, 22, 12, 60, 83, 74, 51, 93, 68, 18, 60, 5, 101].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, viewModel.xKMXWVLme3tU3cpSU3A4hojHZBNcgMgJ?.kN8dGVJ15k0pswqaqp1mza73tmcYC3zH ?? 0)
    }

    func DnSVEKu9S5jeIZzQQyzqZ2R3iHMvZzBq() {
        viewModel.EoQ7Q9MeahBbIjQJmdwuMjf9dGaAhZe2 = { [weak self] in
            self?.GJoCxIKuqoSmspYzyEGgnFvv9CFqNvDn()
            self?.HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC()
            p38tislEkDmfaM5Trf2CDA3uaTpqRNLe.XEaHoJcMOewthI8CUuDkUl3FbYB7jIna(value: true, for: .pqgHJYEFZ8xz5LHJzvcUpLomJJqWw9Vk)
            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.adv47DQ8TCJfxb6oOECpPCxATRwklqua = true
            // Promotion successful!
            self?.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [35, 49, 31, 26, 38, 14, 12, 56, 88, 74, 52, 71, 7, 22, 60, 2, 41, 61, 30, 47, 109].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: [42, 44, 5, 87, 58, 18, 10, 34, 90, 14, 103, 65, 16, 20, 43, 5, 122, 41, 14, 32, 41, 41, 18, 57, 93, 63, 14, 62, 44, 72, 55, 0, 99, 3, 24, 38, 20, 75, 93, 98, 31, 53, 92, 13, 27, 62, 81, 35, 52, 30, 49, 108, 48, 22, 63, 85, 49, 66, 55, 101, 87, 61, 83, 51, 2, 30, 63, 27, 17, 50, 22, 29, 46, 94, 8, 85, 42, 5, 53, 43, 75, 55, 36, 37, 68, 60, 90, 51, 71, 60, 34, 13].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, buttons: [.grb6TiJukBTRVhDCwf7NauTcStn1037q], onOk:  {
                self?.navigationController?.popViewController(animated: true)
            })
        }

        viewModel.cZRBEN3TmU53Gbz5ykxXvL0UG8dGmsmV = { [weak self] message, error in
            // Error!
            self?.GJoCxIKuqoSmspYzyEGgnFvv9CFqNvDn()
            self?.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [54, 49, 2, 24, 59, 91].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: message)
        }
    }
    
}

extension ODlpQRsjAHiyIjIpWVTB4EwYWGZngTaS: UIPickerViewDelegate, UIPickerViewDataSource {

    func numberOfComponents(in pickerView: UIPickerView) -> Int {
        1
    }

    func pickerView(_ pickerView: UIPickerView, numberOfRowsInComponent component: Int) -> Int {
        viewModel.kLeWKrnNwjOtSrARraJzGt61IEh8Eyfn.count
    }
    
    func pickerView(_ pickerView: UIPickerView, rowHeightForComponent component: Int) -> CGFloat {
        28
    }

    func pickerView(_ pickerView: UIPickerView, didSelectRow row: Int, inComponent component: Int) {
        viewModel.yGX08IRLyZxpidkIsyMXK46E73PiOqMZ = viewModel.kLeWKrnNwjOtSrARraJzGt61IEh8Eyfn[row]
        pickerViewMotionEnded()
    }

    func pickerView(_ pickerView: UIPickerView, titleForRow row: Int, forComponent component: Int) -> String? {
        let agapesNumber = viewModel.kLeWKrnNwjOtSrARraJzGt61IEh8Eyfn[row]
        if !pickerInMotion {
            pickerInMotion = true
            self.pickerViewMotionStart()
        }
        return "\(agapesNumber)" + [83, 161, 233, 210, 166, 194, 234, 119, 11, 74].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG + "\(agapesNumber * CbSByOZWj5lKojSe9DofebyNclyVTtj8.BBD0SU49iCCH7EKAPIWUmMHoeDFXOJaN.NjHsgCkyeq4G0JB9ovJlA1GvuvWiWCKI)" + [83, 161, 221, 231, 166, 194, 234].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG
    }

}

extension ODlpQRsjAHiyIjIpWVTB4EwYWGZngTaS {

    static func lDWF70MOvcrmZSeQEfhZB0g7Yuh6tX4m(withVideo video: BcDLEP1ZbZafGIVGYp2Uk2aEmpITrDI8) -> ODlpQRsjAHiyIjIpWVTB4EwYWGZngTaS {
        let viewController = ODlpQRsjAHiyIjIpWVTB4EwYWGZngTaS()
        viewController.viewModel.xKMXWVLme3tU3cpSU3A4hojHZBNcgMgJ = video
        return viewController
    }

}
