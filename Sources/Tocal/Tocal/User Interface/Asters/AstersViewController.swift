//
//  FreeStarsViewController.swift
//  AppLovinSwift
//
//  Created by Eric Cartmenez on 26/07/2020.
//  Copyright © 2020 Eric Cartmenez. All rights reserved.
//

import UIKit
//import UITools
//import InfoServices

class NuctRmFhWDb7seeMvnKQtyFaPTqCpTYY: kBRLNmf7mGhhxUj2Oou351YWEX8tW5mR {

    private var getAstersButton: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var stackView: UIStackView!

    var timer: Timer?
    
    func fb8K0d3h8meoTm0TXh3Q0J7BEomwuTPN() {
        view.backgroundColor = .systemBackground
        
        stackView = UIStackView()
        stackView.translatesAutoresizingMaskIntoConstraints = false
        stackView.axis = .vertical
        stackView.spacing = 28
        stackView.distribution = .fillEqually
        view.addSubview(stackView)

        getAstersButton = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        getAstersButton.titleLabel?.font = .systemFont(ofSize: 13)
        getAstersButton.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            self?.xh8b3GU34JlSPmwEdss2LbW8xRNL6I0b()
        }
        stackView.addArrangedSubview(getAstersButton)

        NSLayoutConstraint.activate([
            stackView.leadingAnchor.constraint(greaterThanOrEqualTo: view.safeAreaLayoutGuide.leadingAnchor, constant: 64),
            stackView.trailingAnchor.constraint(greaterThanOrEqualTo: view.safeAreaLayoutGuide.trailingAnchor, constant: -64),
            stackView.centerXAnchor.constraint(equalTo: view.safeAreaLayoutGuide.centerXAnchor),
            stackView.centerYAnchor.constraint(equalTo: view.safeAreaLayoutGuide.centerYAnchor),
            getAstersButton.widthAnchor.constraint(equalToConstant: 200),
            getAstersButton.heightAnchor.constraint(equalToConstant: 36),
        ])
        
    }

    override func viewDidLoad() {
        super.viewDidLoad()
        fb8K0d3h8meoTm0TXh3Q0J7BEomwuTPN()
        // "Watch a Video (Get+4 ⭐️)"
//        watchVideoButton.setTitle([36, 34, 4, 20, 33, 90, 4, 119, 96, 3, 35, 87, 11, 85, 113, 54, 63, 47, 64, 119, 108, 162, 201, 192, 220, 224, 161, 123].localizedString, for: .normal)
        // "Rate us (Get +80⭐️)"
        getAstersButton.setTitle(String(format: [33, 34, 4, 18, 105, 15, 22, 119, 30, 45, 34, 70, 68, 94, 124, 21, 184, 246, 251, 172, 244, 207, 77].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateAsters), for: .normal)
        // "Get FREE Stars"
        title = [52, 38, 4, 87, 15, 40, 32, 18, 22, 57, 51, 83, 22, 6].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG

        b79TuWV1Z9tsqO7ODeGwNvXV8giGxoXp()
        // TODO: Unhide when ready.
//        watchVideoButton.isHidden = true
    }

    func b79TuWV1Z9tsqO7ODeGwNvXV8giGxoXp() {
        getAstersButton.isHidden = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.showRateApp == false
        getAstersButton.isUserInteractionEnabled = !OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.gjnx44B4RfiWFuZlTPd8beE20QfvBMVf && !OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z
        getAstersButton.alpha = getAstersButton.isUserInteractionEnabled ? 1 : 0.5
    }

//    @IBAction private func watchVideo(_ sender: Any) {
//        presentAlert(withTitle: [58, 45, 22, 24].localizedString, andMessage: [39, 43, 25, 4, 105, 28, 0, 54, 66, 31, 53, 87, 68, 28, 42, 81, 52, 52, 31, 99, 45, 54, 5, 57, 95, 57, 76, 62, 32, 13, 114, 35, 47, 21, 22, 58, 31, 69, 59, 95, 1, 34, 18, 18, 28, 61, 20, 53, 40, 75, 55, 35, 96, 1, 49, 65, 54, 14, 33, 49, 66, 32, 0].localizedString, buttons: [.okDismiss])
//    }

    private func xh8b3GU34JlSPmwEdss2LbW8xRNL6I0b() {
        switch OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateMethod {
        case .inapp:
            let action = {
                let previousWindowCount = UIApplication.shared.windows.count
                pMma9Oyp1904TuxLtYut9STx35uO4cmO.PJVqRaVMjYUdHjPRNrh4pTjtvENejT1I.s56lOh9ySWqZc46SqH7mASZ0FZkBOzLu()

                DispatchQueue.main.asyncAfter(deadline: .now() + 2) {
                    let currentWindowCount = UIApplication.shared.windows.count

                    OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z = true
                    // If window count increases means we got the in app rate prompt.
                    if currentWindowCount > previousWindowCount {
                        self.b79TuWV1Z9tsqO7ODeGwNvXV8giGxoXp()
                        self.timer = Timer.scheduledTimer(timeInterval: 10.0, target: self, selector: #selector(self.JIM6E1ZxoXJA68i7cSxt7wOWRZotqKrZ), userInfo: nil, repeats: false)
                    } else {
                        OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z = false
                        self.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [58, 45, 22, 24].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: [33, 34, 4, 30, 39, 29, 69, 62, 69, 74, 36, 71, 22, 7, 60, 31, 46, 55, 18, 99, 34, 47, 16, 112, 67, 55, 93, 33, 44, 65, 62, 22, 109, 80, 39, 37, 31, 4, 36, 83, 74, 51, 64, 29, 85, 56, 22, 59, 50, 5, 99, 32, 33, 16, 53, 65, 118].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG)
                        //"Rating is currently not possible. Please try again later."
                    }
                }
            }

            if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.showRateInfoInAppAlert {
                self.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateInfoInapp.title, andMessage: OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateInfoInapp.text, buttons: [.ctAycuUpcqLUeLm6lTTZ7BqWroSqULmt, .grb6TiJukBTRVhDCwf7NauTcStn1037q], onOk: {
                    action()
                })
            } else {
                action()
            }

        case .appst:
            let action = {
                let appURL = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.appReviewURL
                if UIApplication.shared.canOpenURL(appURL) {
                    UIApplication.shared.open(appURL)
                    OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z = true
                    self.b79TuWV1Z9tsqO7ODeGwNvXV8giGxoXp()
                    self.timer = Timer.scheduledTimer(timeInterval: 30.0, target: self, selector: #selector(self.JIM6E1ZxoXJA68i7cSxt7wOWRZotqKrZ), userInfo: nil, repeats: false)
                }
            }
            if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.showRateInfoAppstrAlert {
                self.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateInfoAppstr.title, andMessage: OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateInfoAppstr.text, buttons: [.ctAycuUpcqLUeLm6lTTZ7BqWroSqULmt, .grb6TiJukBTRVhDCwf7NauTcStn1037q], onOk: {
                    action()
                })
            } else {
                action()
            }
        }
    }

    @objc func JIM6E1ZxoXJA68i7cSxt7wOWRZotqKrZ() {
        if !OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.gjnx44B4RfiWFuZlTPd8beE20QfvBMVf && OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z {
            let asters = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateAsters
            maqLKRb6dHH50KVEL9xdQ75ElHiPaZNU.nE9BIkaLKzw5jFajLdwMmfrXwJx1Yo7G += asters
            HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC()
            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.gjnx44B4RfiWFuZlTPd8beE20QfvBMVf = true
            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z = false

            // Success!, "%d ⭐️ have been added to your balance."
            ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [32, 54, 19, 20, 44, 9, 22, 118].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: String(format: [86, 39, 80, 149, 228, 234, 138, 239, 185, 74, 47, 83, 18, 16, 121, 19, 63, 62, 5, 99, 45, 36, 0, 53, 87, 120, 90, 61, 101, 90, 61, 6, 49, 80, 21, 40, 22, 4, 57, 85, 15, 105].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, asters), buttons: [.Ql11graq1e1ZiiAQ6FmPP8G7bgXgV8s6])
            Mcpw8J3bq8HXTJ8DyEuNxEpIumUrlY1P()
        }

    }

    func Mcpw8J3bq8HXTJ8DyEuNxEpIumUrlY1P() {
        timer?.invalidate()
        timer = nil
    }

    deinit {
        Mcpw8J3bq8HXTJ8DyEuNxEpIumUrlY1P()
    }
}

