//
//  BaseViewController.swift
//  TikTokTips
//
//  Created by Eric Cartmenez on 08/07/2020.
//  Copyright © 2020 Eric Cartmenez All rights reserved.
//

import UIKit
//import Reachability
//import JGProgressHUD
//import UITools
//import InfoServices

public class kBRLNmf7mGhhxUj2Oou351YWEX8tW5mR: U1010LVFtldGaAOHrygLsknsAV9vRBNM {

    open var shouldCheckSession: Bool {
        true
    }

    public override func viewDidLoad() {
        super.viewDidLoad()
        if shouldShowAstersLabel {
            let button = UIButton(type: .system)
            button.widthAnchor.constraint(equalToConstant: 70).isActive = true
            button.addTarget(self, action: #selector(excYhPQwdxvpCuqDGzLtAuwdSlCpv9u6), for: .touchUpInside)
            navigationItem.setRightBarButton(.init(customView: button), animated: false)
            HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC()
        }
    }

    public override func viewDidAppear(_ animated: Bool) {
        super.viewDidAppear(animated)

        if shouldCheckSession, OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.checkCookiesExpired == true, !InuQKHcUy4mbiZ4ZGgQmYSSO5VSJWGq7.H6Kzf0rH5nW58DmCfiz0eBryIw5ch5pp {
            InuQKHcUy4mbiZ4ZGgQmYSSO5VSJWGq7.Z5bd5YBZI0FpRYvmYc709c3zV6YjwVPv()
        }
    }

    public override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)
        HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC()

        // In case this was called because user rated our app.
        if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.gjnx44B4RfiWFuZlTPd8beE20QfvBMVf == false && OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z == true {
            let asters = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.rateAsters
            maqLKRb6dHH50KVEL9xdQ75ElHiPaZNU.nE9BIkaLKzw5jFajLdwMmfrXwJx1Yo7G += asters
            HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC()

            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.gjnx44B4RfiWFuZlTPd8beE20QfvBMVf = true
            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.K9GqUX0KmoG0rIzBsUAKsXBgpcOXQR8z = false

            // Success!, "%d ⭐️ have been added to your balance."
            ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [32, 54, 19, 20, 44, 9, 22, 118].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: String(format: [86, 39, 80, 149, 228, 234, 138, 239, 185, 74, 47, 83, 18, 16, 121, 19, 63, 62, 5, 99, 45, 36, 0, 53, 87, 120, 90, 61, 101, 90, 61, 6, 49, 80, 21, 40, 22, 4, 57, 85, 15, 105].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, asters), buttons: [.Ql11graq1e1ZiiAQ6FmPP8G7bgXgV8s6])
        }

        // If user is waiting for bought stars or user is waiting for reward stars.
        if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.ocGdcspqH2VU2sUchLv15DMFKb2FgOKq && OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.xvL76zPcRj3iBOoE0tfHpTSGR8kP9paf > OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.numberOfRefreshesBeforeSync {
            maqLKRb6dHH50KVEL9xdQ75ElHiPaZNU.bSEHPpJyFxWj5NHyBqdLGtKOwnjJBZyG { [weak self] asters in

                OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.xvL76zPcRj3iBOoE0tfHpTSGR8kP9paf = 0

                // In case user went to ApplePay website but didn't purchase. Larger than 1 day.
                if let maybeAgoraAstersDateTime = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.wgnV3n8CpfTckNPIfF9Mo6Na6Vl6SNwm, Date().timeIntervalSince(maybeAgoraAstersDateTime) > 24 * 60 * 60 {
                    OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.lgKJTwunyR3ZMEXRcoXyhyaWMNQxG6K6()
                }

                guard let asters = asters else { return }

                if asters > 0 {
                    OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.uVSa0atRaIlt7n1DgqZJ3Q7sGUIjH909 = true
                    self?.HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC()
                    // Purchase successful!, "%d ⭐️ have been added to your balance."
                    self?.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [35, 54, 2, 20, 33, 27, 22, 50, 22, 25, 50, 81, 7, 16, 42, 2, 60, 46, 7, 98].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: String(format: [86, 39, 80, 149, 228, 234, 138, 239, 185, 74, 47, 83, 18, 16, 121, 19, 63, 62, 5, 99, 45, 36, 0, 53, 87, 120, 90, 61, 101, 90, 61, 6, 49, 80, 21, 40, 22, 4, 57, 85, 15, 105].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, asters), buttons: [.Ql11graq1e1ZiiAQ6FmPP8G7bgXgV8s6])

                    // In case user bought stars.
                    if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.ocGdcspqH2VU2sUchLv15DMFKb2FgOKq {
                        OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.ocGdcspqH2VU2sUchLv15DMFKb2FgOKq = false
                    }
                    if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.wgnV3n8CpfTckNPIfF9Mo6Na6Vl6SNwm != nil {
                        OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.wgnV3n8CpfTckNPIfF9Mo6Na6Vl6SNwm = nil
                    }
                }
            }
        }
        OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.xvL76zPcRj3iBOoE0tfHpTSGR8kP9paf += 1
    }

    func HbhocNBx3AObBaDt7sJXmEZmLYg1SLQC(animated: Bool = false) {
        if shouldShowAstersLabel {
            let button = navigationItem.rightBarButtonItem?.customView as? UIButton
            UIView.performWithoutAnimation {
                button?.setTitle("\(maqLKRb6dHH50KVEL9xdQ75ElHiPaZNU.nE9BIkaLKzw5jFajLdwMmfrXwJx1Yo7G)" + [83, 161, 221, 231, 166, 194, 234].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)
                button?.layoutIfNeeded()
            }

            if animated {
                UIView.animate(withDuration: 0.075) {
                    button?.transform = .init(scaleX: 0.8, y: 0.8)
                } completion: { _ in
                    UIView.animate(withDuration: 0.075, animations: {
                        button?.transform = .init(scaleX: 1.4, y: 1.4)
                    }) { _ in
                        UIView.animate(withDuration: 0.15) {
                            button?.transform = .init(scaleX: 1, y: 1)
                        }
                    }
                }
            }
        }
    }

}
