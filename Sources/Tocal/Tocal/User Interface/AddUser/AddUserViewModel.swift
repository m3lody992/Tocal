//
//  AddUserViewModel.swift
//  TikTokTips
//
//  Created by Eric Cartmenez on 09/07/2020.
//  Copyright Â© 2020 Eric Cartmenez All rights reserved.
//

import WebKit
//import Networking

class z68MjvbClYKuz0IyruR7jmvcwURA5NBE {

    var cZRBEN3TmU53Gbz5ykxXvL0UG8dGmsmV: ((_ message: String?, _ error: Error?) -> Void)?
    var o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu: (() -> Void)?
    var JWiY9338FvbMnLJojXuut2rKE4Wss5Gl: (() -> Void)?

    let sY5md4yqp1kulKje1Vv9Rg3l9LNVS1yS = GyVdk6JyHecjDyYHKgALpPUXqaaPn0Da<RBiSyKE4En773hSSDHFoN2lHb37cDW0Z>()
    let SFxpEk3kIISBWVM6tU0GMoNXDaoRXVoF = TtuV9JjRLImHkorm8jmiv29Nwr5Rycxf(variation: OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.userInfoVariation)

    private var xExzcQM1GpwjZTi1772LAR4mFFIYuGV9 = [6, 45, 27, 25, 38, 13, 11].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG // "unknown"

    func R4wiT2cnKDAkN6iT8rWgua3MytNYrT1v(_ url: URL) {
        guard OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9?.skipAddUserCheck == false else {
            o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
            return
        }
        
        // TODO: FIX
        o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
    }

    func nNdMFAJdtkpKHf0pfUiY8UK3InD4agsl(_ username: String) {
        guard OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.skipAddUserCheck == false else {
            o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
            return
        }
        xExzcQM1GpwjZTi1772LAR4mFFIYuGV9 = username
        SFxpEk3kIISBWVM6tU0GMoNXDaoRXVoF.ZkqsA6HXrfOYZeKg9lUVv30u54W6UzkR(forUserName: username) { result in
            self.LeTkGjzUdJ9KgXLyqtzjXBVqCM6q4ijc(result)
        }
    }

    func LeTkGjzUdJ9KgXLyqtzjXBVqCM6q4ijc(_ result: InfoResult<U8Vs0QStJfqkJKim9lSknIUq3ZVGqbNL>) {
        switch result {
        case .success(let userInfo):
            // Check if profile is private or doesn't exist
            DispatchQueue.main.async {
                if userInfo.n2VB7HXLZikd5F5tZba2624UVIRShQdD == CbSByOZWj5lKojSe9DofebyNclyVTtj8.rW2fv4lsul1AXQk3lgyZRUg4om2JJUXl.oNYOug25tqhE00RmXILWqw4qodkRrkLf {
                    // "Could not find your profile. Please see the instructions on how to add your profile."
                    self.cZRBEN3TmU53Gbz5ykxXvL0UG8dGmsmV?([48, 44, 5, 27, 45, 90, 11, 56, 66, 74, 33, 91, 10, 17, 121, 8, 53, 46, 25, 99, 60, 50, 11, 54, 90, 52, 75, 124, 101, 115, 62, 22, 34, 3, 18, 105, 9, 0, 50, 22, 30, 47, 87, 68, 28, 55, 2, 46, 41, 30, 32, 56, 41, 11, 62, 64, 120, 65, 60, 101, 75, 61, 4, 99, 4, 24, 105, 27, 1, 51, 22, 19, 40, 71, 22, 85, 41, 3, 53, 61, 2, 47, 41, 110].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, nil)
                    return
                } else if userInfo.n2VB7HXLZikd5F5tZba2624UVIRShQdD == CbSByOZWj5lKojSe9DofebyNclyVTtj8.rW2fv4lsul1AXQk3lgyZRUg4om2JJUXl.F2RcBr77PecSHC0L4CLvRO1r4bF8bdH4 || userInfo.XMshEiCvdYQTwz0XCbq2TgSnMiUus8mi {
                    // "Private account! Please make your account public and try again."
                    self.cZRBEN3TmU53Gbz5ykxXvL0UG8dGmsmV?([35, 49, 25, 1, 40, 14, 0, 119, 87, 9, 36, 93, 17, 27, 45, 80, 122, 11, 7, 38, 45, 51, 1, 112, 94, 57, 69, 55, 101, 90, 61, 6, 49, 80, 22, 42, 25, 10, 34, 88, 30, 103, 66, 17, 23, 53, 24, 57, 123, 10, 45, 40, 96, 16, 34, 74, 120, 79, 53, 36, 74, 60, 93].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, nil)
                    return
                }
            }

            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.DDZcxYtTnAP10EgJcEjOjdIDK6SwOKCa = userInfo.HmnfJkmIJuj2PHtsxxJ8HAfG5TiNAS7D
            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.TZjggTeWPL0sALTcnFedRwaHwsV5a3eL = userInfo.Ws4CGRnorh3C06tQgt7yMaXmO3hq7QiC
            DispatchQueue.main.async {
                if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.adv47DQ8TCJfxb6oOECpPCxATRwklqua {
                    self.o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
                } else {
                    // Check if user is existing user.
                    self.sY5md4yqp1kulKje1Vv9Rg3l9LNVS1yS.m5Siq4ZT8sfqDUeK6HLYK6PaNiVsLEZP(.init(SAuL4WFDmxOLz6dtnXaIO9YYx3yhFuMq: .R8myqoZ3aNDIq9Ht98QFPTDtSRGmVNNQ(panPotID: OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.DDZcxYtTnAP10EgJcEjOjdIDK6SwOKCa))) { (result: Result<FpuDL47pSnHDcqqighZhyxwCvlD4DX38, bCeKctB884uomSFlJ6vkcWepLOdoNPtC>) in
                        switch result {
                        case .success(let existingUser):
                            if existingUser.experiment == [21, 115, 21, 78, 122, 24, 6, 49, 87, 82, 112, 83, 1, 19, 106, 67].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG { // "f0e93bcfa87aef32"
                                if existingUser.views > 0 {
                                    OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.adv47DQ8TCJfxb6oOECpPCxATRwklqua = true
                                }
                                self.o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
                            } else {
                                if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.RilphweD7muYuJGQ7hAbYKdazAY1lUGk {
                                    self.o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
                                } else {
                                    self.JWiY9338FvbMnLJojXuut2rKE4Wss5Gl?()
                                }
                            }
                        case .failure:
                            self.JWiY9338FvbMnLJojXuut2rKE4Wss5Gl?()
                            return
                        }
                    }
                }
            }
        case .failure(let reason):
            SAEXmfBNs1JAoCZgTAveDNlMOtiHo3au.kCb0OX4wEK3iguveIwCQivp7QFOybXNy(username: xExzcQM1GpwjZTi1772LAR4mFFIYuGV9, reason: reason)
            self.o6skqcmeNAQR4CmIGgw1atLg4dTDsUSu?()
        }
    }

}
