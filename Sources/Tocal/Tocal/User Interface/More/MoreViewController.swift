//
//  MoreViewController.swift
//  TikTokTips
//
//  Created by Eric Cartmenez on 03/07/2020.
//  Copyright Â© 2020 Eric Cartmenez All rights reserved.
//

import UIKit
import MessageUI
import CoreHaptics
//import UITools
//import DeviceTools

class JnOJZKOjot125iYb4qk4ylIRH9OyR3sB: UIStackView {
    
    private var leftLabel: UILabel!
    private var rightLabel: UILabel!
    @objc private var agapeMethodSwitch: UISwitch!
    @objc
    private func wTDYsq8rFnZ7cuqAMGkr34bdBYz1UFZr() {
        onSwitchChangeCompletion?(agapeMethodSwitch.isOn)
    }
    
    override init(frame: CGRect) {
        super.init(frame: frame)
        eyZLNnW9813h4BVXv3WT1Pxmi2he0PrS()
    }
    
    required init(coder: NSCoder) {
        fatalError("init(coder:) has not been implemented")
    }
    
    private func eyZLNnW9813h4BVXv3WT1Pxmi2he0PrS() {
        leftLabel = UILabel()
        addArrangedSubview(leftLabel)
        agapeMethodSwitch = UISwitch()
        agapeMethodSwitch.addTarget(self, action: #selector(wTDYsq8rFnZ7cuqAMGkr34bdBYz1UFZr), for: UIControl.Event.valueChanged)
        addArrangedSubview(agapeMethodSwitch)
        rightLabel = UILabel()
        addArrangedSubview(rightLabel)
        
        alignment = .center
        distribution = .equalCentering
        spacing = 8
    }
    
    private var onSwitchChangeCompletion: ((Bool) -> Void)?
    
    func S7aJnSa38OOOScw2HRp9LgcUx4zatyYB(_ method: us0msqHKSDCUxYuJqMF9RnTefQxe4ett, animated: Bool = false) {
        agapeMethodSwitch?.setOn(method == .inApp, animated: animated)
    }
    
    func raj4XQY4P80uQouuiIVrs9b4CtNcGtgW(completion: @escaping (Bool) -> Void) {
        onSwitchChangeCompletion = completion
    }
    
    override func layoutSubviews() {
        leftLabel?.text = [39, 42, 27, 35, 38, 17, 69, 93, 122, 3, 44, 91, 10, 18].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG // "TikTok \nLiking"
        rightLabel?.text = [58, 45, 93, 54, 57, 10, 111, 27, 95, 1, 46, 92, 3].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG // "In-App\nLiking"
        
        // For on state
        agapeMethodSwitch?.backgroundColor = pMma9Oyp1904TuxLtYut9STx35uO4cmO.HkxXXEKAZjpraRD2sWMr1S0edBs83Oh4.AIJ6PAPFXyD9KKEaNj2ARfiqS22Av1qz
        agapeMethodSwitch?.layer.cornerRadius = agapeMethodSwitch.frame.height / 2
        agapeMethodSwitch?.onTintColor = pMma9Oyp1904TuxLtYut9STx35uO4cmO.HkxXXEKAZjpraRD2sWMr1S0edBs83Oh4.AIJ6PAPFXyD9KKEaNj2ARfiqS22Av1qz

        // For off state
        agapeMethodSwitch?.layer.cornerRadius = agapeMethodSwitch.frame.height / 2
        agapeMethodSwitch?.backgroundColor = pMma9Oyp1904TuxLtYut9STx35uO4cmO.HkxXXEKAZjpraRD2sWMr1S0edBs83Oh4.Jar7RD06FHvVHjzSeGnbPXGhZ6SCXK0x
        agapeMethodSwitch?.clipsToBounds = true
    }
    
}

class Cibs6KBgwIZD68PqIn02UVZDfASdstmk: kBRLNmf7mGhhxUj2Oou351YWEX8tW5mR {

    private var seiraHistory: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var switchAccounts: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var stackView: UIStackView!
    private var getAstersButton: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var rateUs: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var hapticFeedbackButton: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var reportAProblem: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    private var termsButton: x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj!
    
    var timer: Timer?
    
    func fb8K0d3h8meoTm0TXh3Q0J7BEomwuTPN() {
        view.backgroundColor = .systemBackground
        
        stackView = UIStackView()
        stackView.translatesAutoresizingMaskIntoConstraints = false
        stackView.axis = .vertical
        stackView.spacing = 28
        stackView.distribution = .fillEqually
        view.addSubview(stackView)

        seiraHistory = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        seiraHistory.titleLabel?.font = .systemFont(ofSize: 13)
        seiraHistory.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            let vc = VJWd7lODTDpJdR7zJRMqdzpGP18t4B6e()
            self?.navigationController?.pushViewController(vc, animated: true)
        }
        stackView.addArrangedSubview(seiraHistory)
        
        switchAccounts = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        switchAccounts.translatesAutoresizingMaskIntoConstraints = false
        switchAccounts.titleLabel?.font = .systemFont(ofSize: 13)
        switchAccounts.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.B4ZXyKoSrgvGSq3HgmVqE0TAlebSqzDD {
                let notificationFeedbackGenerator = UINotificationFeedbackGenerator()
                notificationFeedbackGenerator.prepare()
                notificationFeedbackGenerator.notificationOccurred(.warning)
            }
            // "Logout?"
            self?.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [63, 44, 23, 24, 60, 14, 90].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG,
                         // "Are you sure you want to log out form @\(User.tikTokUserName)"
                andMessage: [50, 49, 21, 87, 48, 21, 16, 119, 69, 31, 53, 87, 68, 12, 54, 4, 122, 44, 10, 45, 56, 96, 16, 63, 19, 52, 65, 53, 101, 76, 39, 7, 99, 22, 24, 59, 23, 69, 23].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG + OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.TZjggTeWPL0sALTcnFedRwaHwsV5a3eL,
                               buttons: [.grb6TiJukBTRVhDCwf7NauTcStn1037q, .ctAycuUpcqLUeLm6lTTZ7BqWroSqULmt], onOk: { [weak self] in
                InuQKHcUy4mbiZ4ZGgQmYSSO5VSJWGq7.tKJflyWH1ypRNmzzBPOcSH08kTlwQthJ()
                
                let loginVC = AddUserViewController()
//                loginVC.state = .BeZn2JVaAqZPmTew0fZkhcmibPXIamrL
                let navigationController = UINavigationController(rootViewController: loginVC)
                navigationController.modalPresentationStyle = .fullScreen
                navigationController.modalTransitionStyle = .crossDissolve
                self?.present(navigationController, animated: true, completion: nil)
            })
        }
        stackView.addArrangedSubview(switchAccounts)
        
        getAstersButton = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        getAstersButton.translatesAutoresizingMaskIntoConstraints = false
        getAstersButton.titleLabel?.font = .systemFont(ofSize: 13)
        getAstersButton.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            self?.J7P8IPhACvRunDFo8PZSCrlcqTa11hCP()
        }
        stackView.addArrangedSubview(getAstersButton)
        
        rateUs = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        rateUs.translatesAutoresizingMaskIntoConstraints = false
        rateUs.titleLabel?.font = .systemFont(ofSize: 13)
        rateUs.QgvPF5iAhqHCp044T7UGLCn2begXVgSb {
            let appURL = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.appURL
            if UIApplication.shared.canOpenURL(appURL) {
                UIApplication.shared.open(appURL)
            }
        }
        stackView.addArrangedSubview(rateUs)
        
        hapticFeedbackButton = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        hapticFeedbackButton.translatesAutoresizingMaskIntoConstraints = false
        hapticFeedbackButton.titleLabel?.font = .systemFont(ofSize: 13)
        hapticFeedbackButton.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.B4ZXyKoSrgvGSq3HgmVqE0TAlebSqzDD = !OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.B4ZXyKoSrgvGSq3HgmVqE0TAlebSqzDD
            self?.hapticFeedbackButton.setTitle(OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.B4ZXyKoSrgvGSq3HgmVqE0TAlebSqzDD ? [55, 42, 3, 22, 43, 22, 0, 119, 94, 11, 55, 70, 13, 22, 121, 23, 63, 62, 15, 33, 45, 35, 15].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG : [54, 45, 17, 21, 37, 31, 69, 63, 87, 26, 51, 91, 7, 85, 63, 20, 63, 63, 9, 34, 47, 43].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal) // "Disable haptic feedback" / "Enable haptic feedback"
            if OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.B4ZXyKoSrgvGSq3HgmVqE0TAlebSqzDD {
                let notificationFeedbackGenerator = UINotificationFeedbackGenerator()
                notificationFeedbackGenerator.prepare()
                notificationFeedbackGenerator.notificationOccurred(.success)
            }
        }
        stackView.addArrangedSubview(hapticFeedbackButton)
        
        reportAProblem = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        reportAProblem.translatesAutoresizingMaskIntoConstraints = false
        reportAProblem.titleLabel?.font = .systemFont(ofSize: 13)
        reportAProblem.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            if MFMailComposeViewController.canSendMail() {
                let mail = MFMailComposeViewController()
                mail.mailComposeDelegate = self
                mail.setToRecipients([OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.email])
                mail.setSubject([33, 38, 0, 24, 59, 14, 69, 54, 22, 26, 53, 93, 6, 25, 60, 28, 122, 118, 75].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG + (OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.adv47DQ8TCJfxb6oOECpPCxATRwklqua ? pMma9Oyp1904TuxLtYut9STx35uO4cmO.nTsCgcsOSL7AtL7aP6AJUoAYRMbEsb5M.DLibXxJp5dXlLkgbPnBW5NmpYxtGSfUk + [83, 110, 80, 27, 125, 22].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG : pMma9Oyp1904TuxLtYut9STx35uO4cmO.nTsCgcsOSL7AtL7aP6AJUoAYRMbEsb5M.DLibXxJp5dXlLkgbPnBW5NmpYxtGSfUk))
                mail.setMessageBody(String(format: [49, 38, 28, 24, 62, 90, 12, 36, 22, 11, 103, 86, 1, 6, 58, 3, 51, 43, 31, 42, 35, 46, 68, 63, 85, 120, 90, 58, 32, 3, 48, 6, 36, 80, 24, 59, 90, 8, 46, 22, 25, 50, 85, 3, 16, 42, 5, 51, 52, 5, 121, 108, 74, 110, 90, 57, 82, 36, 88, 79, 41, 88, 121, 73, 122, 125, 67, 112, 111, 93, 60, 96, 77, 56, 110, 127, 83, 123, 80, 81, 97, 73, 70, 74, 110, 112, 70, 43, 75, 32, 43, 66, 63, 22, 121, 80, 82, 9, 90, 111, 62, 121, 57, 103, 100, 1, 7, 42, 24, 53, 53, 81, 99, 105, 0, 68, 90, 87, 61, 88, 59, 38, 70, 114, 30, 44, 20, 18, 37, 64, 69, 114, 118, 74, 77, 83, 20, 5, 121, 7, 63, 41, 24, 42, 35, 46, 94, 112, 22, 24, 14, 88, 44, 71, 104, 83, 102, 48, 87, 67, 23, 8, 109, 22, 79, 7].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG,
                                           OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.TZjggTeWPL0sALTcnFedRwaHwsV5a3eL,
                                           UIDevice.current.systemVersion,
                                           RdXhUuFovgT0fGXD1JFd3rA4LnK7rxWV.VkDVIhGnmUp9UtD0xn7YMNwfnpkV9IUm,
                                           RdXhUuFovgT0fGXD1JFd3rA4LnK7rxWV.gL0sNTnnLimbnEsUJMS0GupSeaMvk3mO,
                                           OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.DDZcxYtTnAP10EgJcEjOjdIDK6SwOKCa,
                                           ggcGO2q8O9ZV2qYCG1KwvyPdsgmSAyj9.SzZ7B6w7R2S5Ul31BrGct2Mv3PI6TzLY ? [26, 45, 49, 7, 57].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG : [7, 55, 49, 7, 57].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG), // "inApp", "ttApp"
                                    isHTML: false)

                self?.present(mail, animated: true)
            } else {
                self?.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [36, 34, 2, 25, 32, 20, 2, 118].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: [42, 44, 5, 87, 39, 31, 0, 51, 22, 30, 40, 18, 23, 16, 45, 4, 42, 123, 10, 45, 108, 37, 73, 61, 82, 49, 66, 114, 36, 64, 49, 28, 54, 30, 3, 105, 19, 11, 119, 89, 24, 35, 87, 22, 85, 45, 30, 122, 40, 14, 45, 40, 96, 5, 112, 113, 45, 73, 114, 23, 70, 34, 28, 49, 4, 86].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, buttons: [.Ql11graq1e1ZiiAQ6FmPP8G7bgXgV8s6])
            }
        }
        stackView.addArrangedSubview(reportAProblem)
        
        termsButton = x5LlNVLCxuPUigI3MYAPViqEiJwvUtoj()
        termsButton.translatesAutoresizingMaskIntoConstraints = false
        termsButton.titleLabel?.font = .systemFont(ofSize: 13)
        termsButton.QgvPF5iAhqHCp044T7UGLCn2begXVgSb { [weak self] in
            let helpVC = xJnrm5zRqHOD7VtcYbxe4lqV7VDEQwSN()
            helpVC.XEaHoJcMOewthI8CUuDkUl3FbYB7jIna(url: pMma9Oyp1904TuxLtYut9STx35uO4cmO.nTsCgcsOSL7AtL7aP6AJUoAYRMbEsb5M.R8r0pjGlMK6ftNBnM6ElIacCJ0GIffSd.appendingPathComponent([31, 38, 23, 22, 37].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG).appendingPathComponent([7, 38, 2, 26, 58, 84, 13, 35, 91, 6].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG)) // "legal", "terms.html"
            self?.present(helpVC, animated: true)
        }
        stackView.addArrangedSubview(termsButton)
        
        NSLayoutConstraint.activate([
            stackView.leadingAnchor.constraint(lessThanOrEqualTo: view.safeAreaLayoutGuide.leadingAnchor, constant: 64),
            stackView.trailingAnchor.constraint(lessThanOrEqualTo: view.safeAreaLayoutGuide.trailingAnchor, constant: -64),
            stackView.centerXAnchor.constraint(equalTo: view.safeAreaLayoutGuide.centerXAnchor),
            stackView.centerYAnchor.constraint(equalTo: view.safeAreaLayoutGuide.centerYAnchor),
            seiraHistory.widthAnchor.constraint(equalToConstant: 150),
            seiraHistory.heightAnchor.constraint(equalToConstant: 36),
            switchAccounts.widthAnchor.constraint(equalToConstant: 150),
            switchAccounts.heightAnchor.constraint(equalToConstant: 36),
            getAstersButton.widthAnchor.constraint(equalToConstant: 150),
            getAstersButton.heightAnchor.constraint(equalToConstant: 36),
            rateUs.widthAnchor.constraint(equalToConstant: 150),
            rateUs.heightAnchor.constraint(equalToConstant: 36),
            hapticFeedbackButton.widthAnchor.constraint(equalToConstant: 150),
            hapticFeedbackButton.heightAnchor.constraint(equalToConstant: 36),
            reportAProblem.widthAnchor.constraint(equalToConstant: 150),
            reportAProblem.heightAnchor.constraint(equalToConstant: 36),
            termsButton.widthAnchor.constraint(equalToConstant: 150),
            termsButton.heightAnchor.constraint(equalToConstant: 36),
        ])
        
    }

    override func viewDidLoad() {
        super.viewDidLoad()
        fb8K0d3h8meoTm0TXh3Q0J7BEomwuTPN()
        title = [62, 44, 2, 18].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG
        seiraHistory.setTitle([63, 42, 27, 18, 105, 41, 17, 54, 66, 31, 52].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)
        switchAccounts.setTitle([32, 52, 25, 3, 42, 18, 69, 22, 85, 9, 40, 71, 10, 1, 42, 81, 117, 123, 39, 44, 43, 47, 17, 36].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)
        getAstersButton.setTitle([52, 38, 4, 87, 15, 40, 32, 18, 22, 57, 51, 83, 22, 6].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)
        rateUs.setTitle([33, 34, 4, 18, 105, 47, 22].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)
        reportAProblem.setTitle([33, 38, 0, 24, 59, 14, 69, 54, 22, 26, 53, 93, 6, 25, 60, 28].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)
        termsButton.setTitle([39, 38, 2, 26, 58, 90, 10, 49, 22, 63, 52, 87].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal)

        // Only show if haptics are supported.
        if #available(iOS 13.0, *) {
            hapticFeedbackButton.isHidden = !CHHapticEngine.capabilitiesForHardware().supportsHaptics
        } else {
            hapticFeedbackButton.isHidden = true
        }
        
        hapticFeedbackButton.setTitle(OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.B4ZXyKoSrgvGSq3HgmVqE0TAlebSqzDD ? [55, 42, 3, 22, 43, 22, 0, 119, 94, 11, 55, 70, 13, 22, 121, 23, 63, 62, 15, 33, 45, 35, 15].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG : [54, 45, 17, 21, 37, 31, 69, 63, 87, 26, 51, 91, 7, 85, 63, 20, 63, 63, 9, 34, 47, 43].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, for: .normal) // "Disable haptic feedback" / "Enable haptic feedback"
        rateUs.isHidden = OL9vSPcigWst6xJKRSiVAnWOXScnaZ4P.zbGHSTDi2TfvVkN2LjSwm28tzwa4fmX9.showRateApp == false

        let button = UIButton(type: .system)
        button.widthAnchor.constraint(equalToConstant: 20).isActive = true
        button.heightAnchor.constraint(equalToConstant: 20).isActive = true
        button.tintColor = pMma9Oyp1904TuxLtYut9STx35uO4cmO.HkxXXEKAZjpraRD2sWMr1S0edBs83Oh4.AIJ6PAPFXyD9KKEaNj2ARfiqS22Av1qz
        button.kf.setImage(with: CbSByOZWj5lKojSe9DofebyNclyVTtj8.HuxBkvQ5E3APJGVCWJDMxkCbu2gEtRUf.f6yi9rSAGayXi2dJwXyQsc0mWvnh0bOg.YbJAq4n3AaXim9HlVzZAoujdo25ovJPr, for: .normal, options: Processor.Options.pdfTemplate)
        button.addTarget(self, action: #selector(J7P8IPhACvRunDFo8PZSCrlcqTa11hCP), for: .touchUpInside)
        navigationItem.setLeftBarButton(.init(customView: button), animated: false)
    }

    @objc func J7P8IPhACvRunDFo8PZSCrlcqTa11hCP() {
        let astersVC = NuctRmFhWDb7seeMvnKQtyFaPTqCpTYY()
        navigationController?.pushViewController(astersVC, animated: true)
    }

}

extension Cibs6KBgwIZD68PqIn02UVZDfASdstmk: MFMailComposeViewControllerDelegate {

    func mailComposeController(_ controller: MFMailComposeViewController, didFinishWith result: MFMailComposeResult, error: Error?) {
        if case .sent = result {
            controller.dismiss(animated: true) {
                self.ae7p00dWvNqk8lTdwgcVyOKV7WDJoa1Z(withTitle: [54, 46, 17, 30, 37, 90, 22, 50, 88, 30, 102].cVXbSQ5VmzaPvyUNOXzqCdqZOBHymEpG, andMessage: nil, buttons: [.Ql11graq1e1ZiiAQ6FmPP8G7bgXgV8s6])
            }
        } else {
            controller.dismiss(animated: true)
        }
    }

}
